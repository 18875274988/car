<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sys.dao.CarDao">
    <select id="findCarById"  resultType="com.sys.entity.Car">
        select * from car_info
    </select>

    <delete id="deleteById">
        delete from car_info where id=#{id}
    </delete>

    <insert id="insertCar" parameterType="com.sys.entity.Car">
        insert into car_info values(null ,#{carNo},#{carColor},#{carBuyTime},
                                    #{carEngineNo},#{carFrameNo},#{carFuelNo},
                                    #{carStatus},#{recordCreator},now(),#{state} );
    </insert>
    <update id="updateCar" parameterType="com.sys.entity.Car">
            UPDATE
            car_info
            <set>
                <if test=" carNo!= null">
                    car_no= #{carNo},
                </if>
                <if test="carColor != null">
                    car_color = #{carColor},
                </if>
                <if test=" carBuyTime!= null">
                    car_buy_time = #{carBuyTime},
                </if>
                <if test=" carBuyTime!= null">
                    car_engine_no =  #{carEngineNo},
                </if>
                <if test=" carFrameNo!= null">
                    car_frame_no = #{carFrameNo},
                </if>
                <if test=" carFuelNo!=null">
                    car_fuel_no= #{carFuelNo},
                </if>
                <if test=" carStatus!= null and carStatus != ''">
                    car_status =#{carStatus},
                </if>
                <if test="recordCreateTime != null">
                    record_create_time=#{recordCreateTime},
                </if>
                <if test="recordCreator != null and recordCreator != ''">
                    record_creator=#{recordCreator},
                </if>
                <if test="state != null">
                    state=#{state}
                </if>
            </set>
                  where id=#{id}
    </update>
</mapper>
